---
import { getCollection } from "astro:content";
import h2 from "~/components/mdx/h2.astro";
import h3 from "~/components/mdx/h3.astro";
import h4 from "~/components/mdx/h4.astro";
import h5 from "~/components/mdx/h5.astro";
import h6 from "~/components/mdx/h6.astro";
import li from "~/components/mdx/li.astro";
import ol from "~/components/mdx/ol.astro";
import p from "~/components/mdx/p.astro";
import ul from "~/components/mdx/ul.astro";
import DocsLayout from "~/layouts/docs.astro";

export async function getStaticPaths() {
  const docs = await getCollection("docs");

  return docs.map((doc) => ({
    params: {
      slug: doc.slug,
    },
    props: {
      doc,
    },
  }));
}

const { doc } = Astro.props;
const { Content } = await doc.render();
---

<DocsLayout>
  <main
    class="relative py-6 lg:gap-10 lg:py-8 xl:grid xl:grid-cols-[1fr_300px]"
  >
    <div class="mx-auto w-full min-w-0">
      <Content components={{ h2, h3, h4, h5, h6, li, ol, p, ul }} />
    </div>
  </main>
</DocsLayout>
